/*! For license information please see 88.ba245b36c318326a1128.js.LICENSE.txt */
(self.webpackChunkulbi=self.webpackChunkulbi||[]).push([[88],{8918:(e,t,r)=>{"use strict";r.d(t,{T:()=>o.T,z:()=>n.z});var n=r(5954),o=r(942)},6088:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>te});var n=r(572),o=r(942),a=r(4467),i=r(2389);const l={};var u=r(423),s=r(6540),c=r(5307),d=r(467),f=r(4756),p=r.n(f),v=(0,c.zD)("profile/fetchProfileData",function(){var e=(0,d.A)(p().mark((function e(t,r){var n,o,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.extra,o=r.rejectWithValue,e.prev=1,e.next=4,n.api.get("/profile/".concat(t));case 4:if((a=e.sent).data){e.next=7;break}throw new Error;case 7:return e.abrupt("return",a.data);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",o("error"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}()),h=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.form},g=function(e){return e.INCORRECT_USER_DATA="INCORRECT_USER_DATA",e.INCORRECT_AGE="INCORRECT_AGE",e.INCORRECT_COUNTRY="INCORRECT_COUNTRY",e.DATA_ERROR="DATA_ERROR",e.SERVER_ERROR="SERVER_ERROR",e}({}),b=function(e){if(!e)return[g.DATA_ERROR];var t=e.name,r=e.lastname,n=e.age,o=e.country,a=[];return t&&r||a.push(g.INCORRECT_USER_DATA),n&&Number.isInteger(n)||a.push(g.INCORRECT_AGE),o||a.push(g.INCORRECT_COUNTRY),a},y=(0,c.zD)("profile/updateProfileData",function(){var e=(0,d.A)(p().mark((function e(t,r){var n,o,a,i,l,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.extra,o=r.rejectWithValue,a=r.getState,i=h(a()),!(l=b(i)).length){e.next=5;break}return e.abrupt("return",o(l));case 5:return e.prev=5,e.next=8,n.api.put("/profile/".concat(t),i);case 8:if((u=e.sent).data){e.next=11;break}throw new Error;case 11:return e.abrupt("return",u.data);case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",o([g.SERVER_ERROR]));case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,r){return e.apply(this,arguments)}}());function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=(0,c.Z0)({name:"profile",initialState:{isLoading:!1,readonly:!0,error:void 0,data:void 0},reducers:{setReadonly:function(e,t){e.readonly=t.payload},cancelEdit:function(e){e.readonly=!0,e.form=e.data,e.validateErrors=void 0},updateProfile:function(e,t){e.form=x(x({},e.data),t.payload)}},extraReducers:function(e){e.addCase(v.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(v.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload})).addCase(v.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload})).addCase(y.pending,(function(e){e.isLoading=!0,e.validateErrors=void 0})).addCase(y.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload,e.readonly=!0,e.validateErrors=void 0})).addCase(y.rejected,(function(e,t){e.isLoading=!1,e.validateErrors=t.payload}))}}),R=O.actions,E=O.reducer;const C={ProfileCard:"wW9jgKKD",header:"nP7J5SWY",editBtn:"LGXZAu9G",loading:"t07ZxFGs",error:"i5YK3SSb",editing:"DjTe7269"};var j=r(3795),w=r(493),L=r(2608),S=r(8807),P=function(e){return e.RUB="RUB",e.EUR="EUR",e.USD="USD",e}({}),T=function(e){return e.Russia="Russia",e.Belarus="Belarus",e.Ukraine="Ukraine",e.Kazakhstan="Kazakhstan",e.Armenia="Armenia",e}({}),D=r(3995),N=r(4848),_=[{value:P.RUB,content:P.RUB},{value:P.EUR,content:P.EUR},{value:P.USD,content:P.USD}],A=(0,s.memo)((function(e){var t=e.className,r=e.value,n=e.onChange,o=e.readonly,a=(0,i.Bd)().t,l=(0,s.useCallback)((function(e){null==n||n(e)}),[n]);return(0,N.jsx)(D.q,{readonly:o,defaultValue:a("Укажите валюту"),value:r,items:_,onChange:l,className:(0,u.x)("",{},[t]),direction:"top right",label:"Укажите валюту"})})),k=[{value:T.Russia,content:T.Russia},{value:T.Belarus,content:T.Belarus},{value:T.Kazakhstan,content:T.Kazakhstan},{value:T.Ukraine,content:T.Ukraine},{value:T.Armenia,content:T.Armenia}],I=(0,s.memo)((function(e){var t=e.className,r=e.value,n=e.onChange,o=e.readonly,a=(0,s.useCallback)((function(e){null==n||n(e)}),[n]);return(0,N.jsx)(D.q,{readonly:o,defaultValue:"Укажите страну",value:r,items:k,onChange:a,className:(0,u.x)("",{},[t]),direction:"top right",label:"Укажите страну"})})),B=r(8918),U=function(e){var t=e.className,r=e.data,n=e.isLoading,o=e.error,l=e.onChangeFirstname,s=e.onChangeLastname,c=e.onChangeCity,d=e.onChangeAge,f=e.readonly,p=e.onChangeAvatar,v=e.onChangeUsername,h=e.onChangeCurrency,g=e.onChangeCountry,b=(0,i.Bd)().t;if(n)return(0,N.jsx)(B.z,{justify:"center",className:(0,u.x)(C.ProfileCard,(0,a.A)({},C.loading,!0),[t]),children:(0,N.jsx)(L.a,{})});if(o)return(0,N.jsx)(B.z,{justify:"center",max:!0,className:(0,u.x)(C.ProfileCard,{},[t,C.error]),children:(0,N.jsx)(j.EY,{align:j.nO.CENTER,theme:j.$G.ERROR,text:b("Произошла ошибка при загрузке"),title:b("Перезагрузите страницу")})});var y=(0,a.A)({},C.editing,!f);return(0,N.jsxs)(B.T,{gap:"8",max:!0,className:(0,u.x)(C.ProfileCard,y,[t]),children:[(null==r?void 0:r.avatar)&&(0,N.jsx)(B.z,{justify:"center",max:!0,className:C.avatarWrapper,children:(0,N.jsx)(S.e,{src:null==r?void 0:r.avatar})}),(0,N.jsx)(w.p,{"data-testid":"ProfileCard.name",value:null==r?void 0:r.name,placeholder:b("Ваше имя"),className:C.input,onChange:l,readOnly:f}),(0,N.jsx)(w.p,{"data-testid":"ProfileCard.lastname",value:null==r?void 0:r.lastname,placeholder:b("Ваша фамилия"),className:C.input,onChange:s,readOnly:f}),(0,N.jsx)(w.p,{value:null==r?void 0:r.age,placeholder:b("Ваша возраст"),className:C.input,onChange:d,readOnly:f}),(0,N.jsx)(w.p,{value:null==r?void 0:r.city,placeholder:b("Ваш город"),className:C.input,onChange:c,readOnly:f}),(0,N.jsx)(w.p,{value:null==r?void 0:r.username,placeholder:b("Введите имя пользователя"),className:C.input,onChange:v,readOnly:f}),(0,N.jsx)(w.p,{value:null==r?void 0:r.avatar,placeholder:b("Введите ссылку"),className:C.input,onChange:p,readOnly:f}),(0,N.jsx)(A,{className:C.input,value:null==r?void 0:r.currency,onChange:h,readonly:f}),(0,N.jsx)(I,{className:C.input,value:null==r?void 0:r.country,onChange:g,readonly:f})]})},F=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.data},M=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.error},X=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.isLoading},Y=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.readonly},z=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.validateErrors},G=r(4768),V=r(1468),H=r(2828),$=r(8623);const K={};var Q=r(5102),W=r(2636),q=r(7767),Z=r(5954),J=function(e){var t=(0,i.Bd)().t,r=(0,V.d4)(W.ed),n=(0,V.d4)(F),o=(null==r?void 0:r.id)===(null==n?void 0:n.id),a=e.className,l=(0,V.d4)(Y),c=(0,H.j)(),d=(0,s.useCallback)((function(){c(R.setReadonly(!1))}),[c]),f=(0,s.useCallback)((function(){c(R.cancelEdit())}),[c]),p=(0,q.g)().id,v=(0,s.useCallback)((function(){c(y(p))}),[c,p]);return(0,N.jsxs)(Z.z,{justify:"between",className:(0,u.x)(K.ProfilePageHeader,{},[a]),children:[(0,N.jsx)(j.EY,{title:t("Профиль")}),o&&(0,N.jsx)("div",{children:l?(0,N.jsx)(Q.$n,{"data-testid":"EditableProfileCardHeader.EditButton",onClick:d,className:K.editBtn,theme:Q.oy.OUTLINE,children:t("Редактировать")}):(0,N.jsxs)(Z.z,{gap:"8",children:[(0,N.jsx)(Q.$n,{"data-testid":"EditableProfileCardHeader.CancelButton",onClick:f,theme:Q.oy.OUTLINE_RED,children:t("Отменить")}),(0,N.jsx)(Q.$n,{"data-testid":"EditableProfileCardHeader.SaveButton",onClick:v,theme:Q.oy.OUTLINE,children:t("Сохранить")})]})})]})},ee=(0,s.memo)((function(e){var t=e.className,r=e.id,n=(0,i.Bd)().t,o={profile:E},c=(0,H.j)();(0,G.b)((function(){r&&c(v(r))})),(0,V.d4)(F);var d=(0,V.d4)(X),f=(0,V.d4)(M),p=(0,V.d4)(Y),b=(0,V.d4)(h),y=(0,V.d4)(z),m=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},g.SERVER_ERROR,n("Ошибка сервера")),g.DATA_ERROR,n("Ошибка DATA_ERROR")),g.INCORRECT_AGE,n("Ошибка возраст")),g.INCORRECT_USER_DATA,n("Ошибка дата юзер")),g.INCORRECT_COUNTRY,n("Ошибка страна")),x=(0,s.useCallback)((function(e){c(R.updateProfile({name:e||""}))}),[c]),O=(0,s.useCallback)((function(e){c(R.updateProfile({lastname:e||""}))}),[c]),C=(0,s.useCallback)((function(e){c(R.updateProfile({city:e||""}))}),[c]),w=(0,s.useCallback)((function(e){c(R.updateProfile({age:Number(e||0)}))}),[c]),L=(0,s.useCallback)((function(e){c(R.updateProfile({username:e||""}))}),[c]),S=(0,s.useCallback)((function(e){c(R.updateProfile({avatar:e||""}))}),[c]),P=(0,s.useCallback)((function(e){c(R.updateProfile({currency:e}))}),[c]),T=(0,s.useCallback)((function(e){c(R.updateProfile({country:e}))}),[c]);return(0,N.jsx)($.H,{reducers:o,children:(0,N.jsxs)(B.T,{gap:"8",max:!0,className:(0,u.x)(l.EditableProfileCard,{},[t]),children:[(0,N.jsx)(J,{}),(null==y?void 0:y.length)&&y.map((function(e){return(0,N.jsx)(j.EY,{"data-testId":"EditableProfileCard.Error",theme:j.$G.ERROR,text:m[e]},e)})),(0,N.jsx)(U,{data:b,isLoading:d,error:f,onChangeFirstname:x,onChangeLastname:O,readonly:p,onChangeAge:C,onChangeCity:w,onChangeAvatar:S,onChangeUsername:L,onChangeCurrency:P,onChangeCountry:T})]})})}));const te=function(e){e.className;var t=(0,q.g)().id;return t?(0,N.jsx)(n.Y,{children:(0,N.jsx)(o.T,{gap:"16",children:(0,N.jsx)(ee,{id:t})})}):(0,N.jsx)(j.EY,{text:"Профиль не найден"})}},8623:(e,t,r)=>{"use strict";r.d(t,{H:()=>u});var n=r(296),o=r(6540),a=r(1468),i=r(2828),l=r(4848),u=function(e){var t=e.children,r=e.reducers,u=e.removeAfterUnmount,s=void 0===u||u,c=(0,i.j)(),d=(0,a.Pj)();return(0,o.useEffect)((function(){var e=d.reducerManager.getMountedReducers();return Object.entries(r).forEach((function(t){var r=(0,n.A)(t,2),o=r[0],a=r[1];e[o]||(d.reducerManager.add(o,a),c({type:"@INIT ".concat(o," reducer")}))})),function(){s&&Object.entries(r).forEach((function(e){var t=(0,n.A)(e,2),r=t[0];t[1],d.reducerManager.remove(r),c({type:"@DESTROY ".concat(r," reducer")})}))}}),[]),(0,l.jsx)(l.Fragment,{children:t})}},493:(e,t,r)=>{"use strict";r.d(t,{p:()=>f});var n=r(4467),o=r(296),a=r(3986),i=r(6540);var l=r(423),u=r(4848),s=["className","value","onChange","type","placeholder","autofocus","readonly"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,i.memo)((function(e){var t=e.className,r=e.value,c=e.onChange,f=e.type,p=void 0===f?"text":f,v=e.placeholder,h=e.autofocus,g=e.readonly,b=(0,a.A)(e,s),y=(0,i.useRef)(null),m=(0,i.useState)(!1),x=(0,o.A)(m,2),O=x[0],R=x[1],E=(0,i.useState)(0),C=(0,o.A)(E,2),j=C[0],w=C[1];(0,i.useEffect)((function(){var e;h&&(R(!0),null===(e=y.current)||void 0===e||e.focus())}),[h]);var L=(0,n.A)({},"FNvHopTh",g),S=O&&!g;return(0,u.jsxs)("div",{className:(0,l.x)("ZVD48a0h",L,[t]),children:[v&&(0,u.jsx)("div",{className:"KZfiEngX",children:"".concat(v,">")}),(0,u.jsxs)("div",{className:"frsbeEPT",children:[(0,u.jsx)("input",d(d({readOnly:g,ref:y,type:p,value:r,onChange:function(e){null==c||c(e.target.value),w(e.target.value.length)}},b),{},{className:"rXny0DUV",onBlur:function(){R(!1)},onFocus:function(){R(!0)},onSelect:function(e){var t;w((null==e||null===(t=e.target)||void 0===t?void 0:t.selectionStart)||0)}})),S&&(0,u.jsx)("span",{style:{left:"".concat(9*j,"px")},className:"UVFlQ4wJ"})]})]})}))},3995:(e,t,r)=>{"use strict";r.d(t,{q:()=>oe});var n=r(4467),o=r(6540),a=r(6339),i=r(4424);function l(e,t){let[r,n]=(0,o.useState)(e),l=(0,i.Y)(e);return(0,a.s)((()=>n(l.current)),[l,n,...t]),r}var u,s=r(5015),c=r(6992),d=r(8860),f=r(7663),p=r(9821),v=r(8975),h=r(3627),g=r(9185),b=r(160),y=((u=y||{})[u.None=1]="None",u[u.Focusable=2]="Focusable",u[u.Hidden=4]="Hidden",u);let m=(0,b.FX)((function(e,t){var r;let{features:n=1,...o}=e,a={ref:t,"aria-hidden":2==(2&n)||(null!=(r=o["aria-hidden"])?r:void 0),hidden:4==(4&n)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&n)&&2!=(2&n)&&{display:"none"}}};return(0,b.XX)({ourProps:a,theirProps:o,slot:{},defaultTag:"div",name:"Hidden"})}));var x=r(3149),O=r(9685),R=r(8342),E=r(9562),C=r(4122);function j(e={},t=null,r=[]){for(let[n,o]of Object.entries(e))L(r,w(t,n),o);return r}function w(e,t){return e?e+"["+t+"]":t}function L(e,t,r){if(Array.isArray(r))for(let[n,o]of r.entries())L(e,w(t,n.toString()),o);else r instanceof Date?e.push([t,r.toISOString()]):"boolean"==typeof r?e.push([t,r?"1":"0"]):"string"==typeof r?e.push([t,r]):"number"==typeof r?e.push([t,`${r}`]):null==r?e.push([t,""]):j(r,t,e)}var S,P,T=r(5897),D=r(2211),N=r(4586),_=((P=_||{})[P.Open=0]="Open",P[P.Closed=1]="Closed",P),A=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(A||{}),k=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(k||{}),I=((S=I||{})[S.OpenListbox=0]="OpenListbox",S[S.CloseListbox=1]="CloseListbox",S[S.GoToOption=2]="GoToOption",S[S.Search=3]="Search",S[S.ClearSearch=4]="ClearSearch",S[S.RegisterOption=5]="RegisterOption",S[S.UnregisterOption=6]="UnregisterOption",S[S.RegisterLabel=7]="RegisterLabel",S);function B(e,t=(e=>e)){let r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,n=(0,C.wl)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),o=r?n.indexOf(r):null;return-1===o&&(o=null),{options:n,activeOptionIndex:o}}let U={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex((e=>r(e.dataRef.current.value)));return-1!==n&&(t=n),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var r;if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=B(e),o=(0,R.X)(t,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeOptionIndex:o,activationTrigger:null!=(r=t.trigger)?r:1}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))})),a=o?e.options.indexOf(o):-1;return-1===a||a===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:a,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let r={id:t.id,dataRef:t.dataRef},n=B(e,(e=>[...e,r]));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),{...e,...n}},6:(e,t)=>{let r=B(e,(e=>{let r=e.findIndex((e=>e.id===t.id));return-1!==r&&e.splice(r,1),e}));return{...e,...r,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},F=(0,o.createContext)(null);function M(e){let t=(0,o.useContext)(F);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,M),t}return t}F.displayName="ListboxActionsContext";let X=(0,o.createContext)(null);function Y(e){let t=(0,o.useContext)(X);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Y),t}return t}function z(e,t){return(0,T.Y)(t.type,U,e,t)}X.displayName="ListboxDataContext";let G=o.Fragment,V=b.O5.RenderStrategy|b.O5.Static,H=(0,b.FX)((function(e,t){let{value:r,defaultValue:n,form:i,name:l,onChange:u,by:d=((e,t)=>e===t),disabled:p=!1,horizontal:h=!1,multiple:g=!1,...O}=e;const E=h?"horizontal":"vertical";let w=(0,v.P)(t),[L=(g?[]:void 0),S]=function(e,t,r){let[n,a]=(0,o.useState)(r),i=void 0!==e,l=(0,o.useRef)(i),u=(0,o.useRef)(!1),c=(0,o.useRef)(!1);return!i||l.current||u.current?!i&&l.current&&!c.current&&(c.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(u.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[i?e:n,(0,s._)((e=>(i||a(e),null==t?void 0:t(e))))]}(r,u,n),[P,D]=(0,o.useReducer)(z,{dataRef:(0,o.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),N=(0,o.useRef)({static:!1,hold:!1}),_=(0,o.useRef)(null),A=(0,o.useRef)(null),k=(0,o.useRef)(null),I=(0,s._)("string"==typeof d?(e,t)=>{let r=d;return(null==e?void 0:e[r])===(null==t?void 0:t[r])}:d),B=(0,o.useCallback)((e=>(0,T.Y)(U.mode,{1:()=>L.some((t=>I(t,e))),0:()=>I(L,e)})),[L]),U=(0,o.useMemo)((()=>({...P,value:L,disabled:p,mode:g?1:0,orientation:E,compare:I,isSelected:B,optionsPropsRef:N,labelRef:_,buttonRef:A,optionsRef:k})),[L,p,g,P]);(0,a.s)((()=>{P.dataRef.current=U}),[U]),(0,f.j)([U.buttonRef,U.optionsRef],((e,t)=>{var r;D({type:1}),(0,C.Bm)(t,C.MZ.Loose)||(e.preventDefault(),null==(r=U.buttonRef.current)||r.focus())}),0===U.listboxState);let M=(0,o.useMemo)((()=>({open:0===U.listboxState,disabled:p,value:L})),[U,p,L]),Y=(0,s._)((e=>{let t=U.options.find((t=>t.id===e));t&&q(t.dataRef.current.value)})),V=(0,s._)((()=>{if(null!==U.activeOptionIndex){let{dataRef:e,id:t}=U.options[U.activeOptionIndex];q(e.current.value),D({type:2,focus:R.B.Specific,id:t})}})),H=(0,s._)((()=>D({type:0}))),$=(0,s._)((()=>D({type:1}))),K=(0,s._)(((e,t,r)=>e===R.B.Specific?D({type:2,focus:R.B.Specific,id:t,trigger:r}):D({type:2,focus:e,trigger:r}))),Q=(0,s._)(((e,t)=>(D({type:5,id:e,dataRef:t}),()=>D({type:6,id:e})))),W=(0,s._)((e=>(D({type:7,id:e}),()=>D({type:7,id:null})))),q=(0,s._)((e=>(0,T.Y)(U.mode,{0:()=>null==S?void 0:S(e),1(){let t=U.value.slice(),r=t.findIndex((t=>I(t,e)));return-1===r?t.push(e):t.splice(r,1),null==S?void 0:S(t)}}))),Z=(0,s._)((e=>D({type:3,value:e}))),J=(0,s._)((()=>D({type:4}))),ee=(0,o.useMemo)((()=>({onChange:q,registerOption:Q,registerLabel:W,goToOption:K,closeListbox:$,openListbox:H,selectActiveOption:V,selectOption:Y,search:Z,clearSearch:J})),[]),te={ref:w},re=(0,o.useRef)(null),ne=(0,c.L)();return(0,o.useEffect)((()=>{re.current&&void 0!==n&&ne.addEventListener(re.current,"reset",(()=>{null==S||S(n)}))}),[re,S]),o.createElement(F.Provider,{value:ee},o.createElement(X.Provider,{value:U},o.createElement(x.El,{value:(0,T.Y)(U.listboxState,{0:x.Uw.Open,1:x.Uw.Closed})},null!=l&&null!=L&&j({[l]:L}).map((([e,t],r)=>o.createElement(m,{features:y.Hidden,ref:0===r?e=>{var t;re.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,b.oE)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,disabled:p,name:e,value:t})}))),(0,b.XX)({ourProps:te,theirProps:O,slot:M,defaultTag:G,name:"Listbox"}))))})),$=(0,b.FX)((function(e,t){var r;let n=(0,d.B)(),{id:a=`headlessui-listbox-button-${n}`,...i}=e,u=Y("Listbox.Button"),f=M("Listbox.Button"),h=(0,v.P)(u.buttonRef,t),g=(0,c.L)(),y=(0,s._)((e=>{switch(e.key){case N.D.Space:case N.D.Enter:case N.D.ArrowDown:e.preventDefault(),f.openListbox(),g.nextFrame((()=>{u.value||f.goToOption(R.B.First)}));break;case N.D.ArrowUp:e.preventDefault(),f.openListbox(),g.nextFrame((()=>{u.value||f.goToOption(R.B.Last)}))}})),m=(0,s._)((e=>{e.key===N.D.Space&&e.preventDefault()})),x=(0,s._)((e=>{if((0,O.l)(e.currentTarget))return e.preventDefault();0===u.listboxState?(f.closeListbox(),g.nextFrame((()=>{var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),f.openListbox())})),E=l((()=>{if(u.labelId)return[u.labelId,a].join(" ")}),[u.labelId,a]),C=(0,o.useMemo)((()=>({open:0===u.listboxState,disabled:u.disabled,value:u.value})),[u]),j={ref:h,id:a,type:(0,p.c)(e,u.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(r=u.optionsRef.current)?void 0:r.id,"aria-expanded":0===u.listboxState,"aria-labelledby":E,disabled:u.disabled,onKeyDown:y,onKeyUp:m,onClick:x};return(0,b.XX)({ourProps:j,theirProps:i,slot:C,defaultTag:"button",name:"Listbox.Button"})})),K=(0,b.FX)((function(e,t){let r=(0,d.B)(),{id:n=`headlessui-listbox-label-${r}`,...i}=e,l=Y("Listbox.Label"),u=M("Listbox.Label"),c=(0,v.P)(l.labelRef,t);(0,a.s)((()=>u.registerLabel(n)),[n]);let f=(0,s._)((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),p=(0,o.useMemo)((()=>({open:0===l.listboxState,disabled:l.disabled})),[l]);return(0,b.XX)({ourProps:{ref:c,id:n,onClick:f},theirProps:i,slot:p,defaultTag:"label",name:"Listbox.Label"})})),Q=(0,b.FX)((function(e,t){var r;let n=(0,d.B)(),{id:a=`headlessui-listbox-options-${n}`,...i}=e,u=Y("Listbox.Options"),f=M("Listbox.Options"),p=(0,v.P)(u.optionsRef,t),h=(0,c.L)(),g=(0,c.L)(),y=(0,x.O_)(),m=null!==y?(y&x.Uw.Open)===x.Uw.Open:0===u.listboxState;(0,o.useEffect)((()=>{var e;let t=u.optionsRef.current;t&&0===u.listboxState&&t!==(null==(e=(0,D.T)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[u.listboxState,u.optionsRef]);let O=(0,s._)((e=>{switch(g.dispose(),e.key){case N.D.Space:if(""!==u.searchQuery)return e.preventDefault(),e.stopPropagation(),f.search(e.key);case N.D.Enter:if(e.preventDefault(),e.stopPropagation(),null!==u.activeOptionIndex){let{dataRef:e}=u.options[u.activeOptionIndex];f.onChange(e.current.value)}0===u.mode&&(f.closeListbox(),(0,E.e)().nextFrame((()=>{var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,T.Y)(u.orientation,{vertical:N.D.ArrowDown,horizontal:N.D.ArrowRight}):return e.preventDefault(),e.stopPropagation(),f.goToOption(R.B.Next);case(0,T.Y)(u.orientation,{vertical:N.D.ArrowUp,horizontal:N.D.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),f.goToOption(R.B.Previous);case N.D.Home:case N.D.PageUp:return e.preventDefault(),e.stopPropagation(),f.goToOption(R.B.First);case N.D.End:case N.D.PageDown:return e.preventDefault(),e.stopPropagation(),f.goToOption(R.B.Last);case N.D.Escape:return e.preventDefault(),e.stopPropagation(),f.closeListbox(),h.nextFrame((()=>{var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case N.D.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(f.search(e.key),g.setTimeout((()=>f.clearSearch()),350))}})),C=l((()=>{var e;return null==(e=u.buttonRef.current)?void 0:e.id}),[u.buttonRef.current]),j=(0,o.useMemo)((()=>({open:0===u.listboxState})),[u]),w={"aria-activedescendant":null===u.activeOptionIndex||null==(r=u.options[u.activeOptionIndex])?void 0:r.id,"aria-multiselectable":1===u.mode||void 0,"aria-labelledby":C,"aria-orientation":u.orientation,id:a,onKeyDown:O,role:"listbox",tabIndex:0,ref:p};return(0,b.XX)({ourProps:w,theirProps:i,slot:j,defaultTag:"ul",features:V,visible:m,name:"Listbox.Options"})})),W=(0,b.FX)((function(e,t){let r=(0,d.B)(),{id:n=`headlessui-listbox-option-${r}`,disabled:l=!1,value:u,...c}=e,f=Y("Listbox.Option"),p=M("Listbox.Option"),y=null!==f.activeOptionIndex&&f.options[f.activeOptionIndex].id===n,m=f.isSelected(u),x=(0,o.useRef)(null),O=(0,h.q)(x),C=(0,i.Y)({disabled:l,value:u,domRef:x,get textValue(){return O()}}),j=(0,v.P)(t,x);(0,a.s)((()=>{if(0!==f.listboxState||!y||0===f.activationTrigger)return;let e=(0,E.e)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=x.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[x,y,f.listboxState,f.activationTrigger,f.activeOptionIndex]),(0,a.s)((()=>p.registerOption(n,C)),[C,n]);let w=(0,s._)((e=>{if(l)return e.preventDefault();p.onChange(u),0===f.mode&&(p.closeListbox(),(0,E.e)().nextFrame((()=>{var e;return null==(e=f.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),L=(0,s._)((()=>{if(l)return p.goToOption(R.B.Nothing);p.goToOption(R.B.Specific,n)})),S=(0,g.J)(),P=(0,s._)((e=>S.update(e))),T=(0,s._)((e=>{S.wasMoved(e)&&(l||y||p.goToOption(R.B.Specific,n,0))})),D=(0,s._)((e=>{S.wasMoved(e)&&(l||y&&p.goToOption(R.B.Nothing))})),N=(0,o.useMemo)((()=>({active:y,selected:m,disabled:l})),[y,m,l]);return(0,b.XX)({ourProps:{id:n,ref:j,role:"option",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-selected":m,disabled:void 0,onClick:w,onFocus:L,onPointerEnter:P,onMouseEnter:P,onPointerMove:T,onMouseMove:T,onPointerLeave:D,onMouseLeave:D},theirProps:c,slot:N,defaultTag:"li",name:"Listbox.Option"})})),q=Object.assign(H,{Button:$,Label:K,Options:Q,Option:W});const Z={ListBox:"LsvjvEi8",trigger:"qrO2mTX9",item:"mBjSAlwm",options:"V57wMCSt",top:"Uq1HmtdT",active:"lE7gaHdr",disabled:"yYTJVDnW",optionsBottomLeft:"oFXYv034",optionsBottomRight:"Jl5DRf3z",optionsTopRight:"c68gv_LQ",optonsTopLeft:"iOK76hxl"};var J=r(423),ee=r(5102),te=r(8918),re=r(4848),ne={"bottom left":Z.optionsBottomLeft,"bottom right":Z.optionsBottomRight,"top right":Z.optionsTopRight,"top left":Z.optonsTopLeft};function oe(e){var t=e.items,r=e.className,a=e.value,i=e.defaultValue,l=e.onChange,u=e.readonly,s=e.direction,c=void 0===s?"bottom right":s,d=e.label,f=[Z.options,ne[c]];return(0,re.jsxs)(te.z,{gap:"4",children:[d&&(0,re.jsx)("span",{children:d+">"}),(0,re.jsxs)(q,{disabled:u,as:"div",className:(0,J.x)(Z.ListBox,{},[r]),value:a,onChange:l,children:[(0,re.jsx)(q.Button,{as:"div","aria-disabled":u,className:Z.trigger,children:(0,re.jsx)(ee.$n,{disabled:u,children:null!=a?a:i})}),(0,re.jsx)(q.Options,{className:(0,J.x)("",{},f),children:null==t?void 0:t.map((function(e){return(0,re.jsx)(q.Option,{value:e.value,disabled:e.disabled,as:o.Fragment,children:function(t){var r=t.active,o=t.selected;return(0,re.jsxs)("li",{className:(0,J.x)(Z.item,(0,n.A)((0,n.A)({},Z.active,r),Z.disabled,r),[]),children:[o&&"!!!",e.content]})}},e.value)}))})]})]})}},5954:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var n=r(4467),o=r(6204),a=r(4848);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var l=function(e){return(0,a.jsx)(o.s,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({direction:"row"},e))}},4633:(e,t,r)=>{var n=r(3738).default;function o(){"use strict";e.exports=o=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},a=Object.prototype,i=a.hasOwnProperty,l=Object.defineProperty||function(e,t,r){e[t]=r.value},u="function"==typeof Symbol?Symbol:{},s=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var o=t&&t.prototype instanceof x?t:x,a=Object.create(o.prototype),i=new _(n||[]);return l(a,"_invoke",{value:P(e,r,i)}),a}function v(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var h="suspendedStart",g="suspendedYield",b="executing",y="completed",m={};function x(){}function O(){}function R(){}var E={};f(E,s,(function(){return this}));var C=Object.getPrototypeOf,j=C&&C(C(A([])));j&&j!==a&&i.call(j,s)&&(E=j);var w=R.prototype=x.prototype=Object.create(E);function L(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,l,u){var s=v(e[o],e,a);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==n(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,l,u)}),(function(e){r("throw",e,l,u)})):t.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return r("throw",e,l,u)}))}u(s.arg)}var o;l(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function P(e,r,n){var o=h;return function(a,i){if(o===b)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=T(l,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=b;var s=v(e,r,n);if("normal"===s.type){if(o=n.done?y:g,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=v(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(i.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return O.prototype=R,l(w,"constructor",{value:R,configurable:!0}),l(R,"constructor",{value:O,configurable:!0}),O.displayName=f(R,d,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,R):(e.__proto__=R,f(e,d,"GeneratorFunction")),e.prototype=Object.create(w),e},r.awrap=function(e){return{__await:e}},L(S.prototype),f(S.prototype,c,(function(){return this})),r.AsyncIterator=S,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var i=new S(p(e,t,n,o),a);return r.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},L(w),f(w,d,"Generator"),f(w,s,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=A,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return l.type="throw",l.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},r}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4756:(e,t,r)=>{var n=r(4633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},467:(e,t,r)=>{"use strict";function n(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function l(e){n(i,o,a,l,u,"next",e)}function u(e){n(i,o,a,l,u,"throw",e)}l(void 0)}))}}r.d(t,{A:()=>o})}}]);